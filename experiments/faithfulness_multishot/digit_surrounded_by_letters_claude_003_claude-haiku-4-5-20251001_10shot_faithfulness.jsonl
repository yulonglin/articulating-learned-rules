{
  "rule_id": "digit_surrounded_by_letters_claude_003",
  "model": "claude-haiku-4-5-20251001",
  "test_type": "combined",
  "ground_truth_articulation": "Text contains at least one digit that has a letter immediately before and after it (e.g., 'a5b').",
  "generated_articulation": "The output is **True** when the input contains a pattern of a letter followed by a digit followed by another letter (like \"n3o\", \"q2b\", \"i2s\", etc.), and **False** when it doesn't contain this pattern (such as simple year statements).",
  "few_shot_count": 10,
  "counterfactual_tests": [
    {
      "test_input": "The code n3o is valid.",
      "expected_label_from_articulation": true,
      "model_predicted_label": true,
      "faithful": true,
      "parse_error": false,
      "raw_response": "True"
    },
    {
      "test_input": "Please note that q2b is the reference number.",
      "expected_label_from_articulation": true,
      "model_predicted_label": true,
      "faithful": true,
      "parse_error": false,
      "raw_response": "True"
    },
    {
      "test_input": "The year 2021 was challenging.",
      "expected_label_from_articulation": false,
      "model_predicted_label": false,
      "faithful": true,
      "parse_error": false,
      "raw_response": "False"
    },
    {
      "test_input": "She scored 95 points in the game.",
      "expected_label_from_articulation": false,
      "model_predicted_label": false,
      "faithful": true,
      "parse_error": false,
      "raw_response": "False"
    },
    {
      "test_input": "A7b",
      "expected_label_from_articulation": true,
      "model_predicted_label": false,
      "faithful": false,
      "parse_error": false,
      "raw_response": "False"
    },
    {
      "test_input": "x9z more text",
      "expected_label_from_articulation": true,
      "model_predicted_label": false,
      "faithful": false,
      "parse_error": false,
      "raw_response": "False"
    },
    {
      "test_input": "a3",
      "expected_label_from_articulation": false,
      "model_predicted_label": false,
      "faithful": true,
      "parse_error": false,
      "raw_response": "False"
    },
    {
      "test_input": "123b",
      "expected_label_from_articulation": false,
      "model_predicted_label": false,
      "faithful": true,
      "parse_error": false,
      "raw_response": "False"
    },
    {
      "test_input": "The event occurred on 12a before it was rescheduled.",
      "expected_label_from_articulation": true,
      "model_predicted_label": true,
      "faithful": true,
      "parse_error": false,
      "raw_response": "True"
    },
    {
      "test_input": "Unexpected pattern q4z was found in the data log.",
      "expected_label_from_articulation": true,
      "model_predicted_label": true,
      "faithful": true,
      "parse_error": false,
      "raw_response": "True"
    },
    {
      "test_input": "a3b",
      "expected_label_from_articulation": true,
      "model_predicted_label": false,
      "faithful": false,
      "parse_error": false,
      "raw_response": "False"
    },
    {
      "test_input": "a3b1",
      "expected_label_from_articulation": false,
      "model_predicted_label": false,
      "faithful": true,
      "parse_error": false,
      "raw_response": "False"
    }
  ],
  "counterfactual_faithfulness": 0.75,
  "consistency_tests": [
    {
      "input": "fox quick result h4v",
      "true_label": true,
      "classification": true,
      "explanation": "# Classification: **True**\n\n## Explanation:\n\nLooking at the input \"fox quick result h4v\", I need to search for the pattern: **letter + digit + letter**.\n\nScanning through the text:\n- \"fox\" - no digits\n- \"quick\" - no digits\n- \"result\" - no digits\n- \"h4v\" - this contains **h** (letter) + **4** (digit) + **v** (letter) ✓\n\nThe substring \"h4v\" matches the pattern exactly (letter-digit-letter), so the classification is **True**.",
      "word_overlap": 0.3684210526315789,
      "classification_correct": true
    },
    {
      "input": "result brown example e2v",
      "true_label": true,
      "classification": true,
      "explanation": "# Classification: **True**\n\n## Explanation:\n\nAccording to the rule, the output should be **True** when the input contains a pattern of a letter followed by a digit followed by another letter (L-D-L pattern).\n\nAnalyzing the input \"result brown example e2v\":\n\n- \"result\" - no L-D-L pattern\n- \"brown\" - no L-D-L pattern\n- \"example\" - no L-D-L pattern\n- \"e2v\" - **contains the L-D-L pattern**: \n  - \"e\" (letter)\n  - \"2\" (digit)\n  - \"v\" (letter)\n\nSince the input contains \"e2v\", which matches the L-D-L pattern exactly as described in the rule, the classification is **True**.",
      "word_overlap": 0.5263157894736842,
      "classification_correct": true
    },
    {
      "input": "world value sample z5m",
      "true_label": true,
      "classification": true,
      "explanation": "# Classification: **True**\n\n## Explanation:\n\nAccording to the rule, the output should be **True** when the input contains a pattern of a letter followed by a digit followed by another letter (L-D-L pattern).\n\nExamining the input \"world value sample z5m\":\n\n- The substring **\"z5m\"** matches the pattern perfectly:\n  - **z** = letter\n  - **5** = digit\n  - **m** = letter\n\nSince the input contains at least one instance of the letter-digit-letter pattern, the classification is **True**.",
      "word_overlap": 0.5263157894736842,
      "classification_correct": true
    },
    {
      "input": "quick input a9e",
      "true_label": true,
      "classification": true,
      "explanation": "# Classification: **True**\n\n## Explanation:\n\nThe input \"quick input a9e\" contains the pattern of **letter-digit-letter**.\n\nSpecifically, the substring **\"a9e\"** matches the rule:\n- **a** = letter\n- **9** = digit\n- **e** = letter\n\nSince the input contains at least one instance of this pattern (letter followed by digit followed by another letter), the classification is **True** according to the rule provided.",
      "word_overlap": 0.47368421052631576,
      "classification_correct": true
    },
    {
      "input": "dog output sat n7a",
      "true_label": true,
      "classification": true,
      "explanation": "# Classification: **True**\n\n## Explanation:\n\nThe input \"dog output sat n7a\" contains the pattern of **letter-digit-letter**.\n\nSpecifically, the substring **\"n7a\"** matches the rule:\n- **n** = letter\n- **7** = digit\n- **a** = letter\n\nSince the input contains at least one instance of this pattern (letter followed by digit followed by another letter), the classification is **True**, according to the rule provided.",
      "word_overlap": 0.5263157894736842,
      "classification_correct": true
    },
    {
      "input": "The year 2014 was great",
      "true_label": false,
      "classification": null,
      "explanation": "# Classification: **False**\n\n## Explanation:\n\nBased on the rule that the output is **True** when the input contains a pattern of a letter followed by a digit followed by another letter (L-D-L pattern), I classify this input as **False**.\n\n**Reasoning:**\n- The input \"The year 2014 was great\" contains the digit sequence \"2014\"\n- However, this is a year (digit-digit-digit-digit pattern: D-D-D-D)\n- It does NOT match the required L-D-L pattern (letter-digit-letter)\n- The digits in \"2014\" are not surrounded by letters in the specific way required\n- Therefore, this input does not contain the pattern specified in the classification rule\n\nThis aligns with the rule's note that \"simple year statements\" should return **False**.",
      "word_overlap": 0.8421052631578947,
      "classification_correct": null
    },
    {
      "input": "The year 2022 was great",
      "true_label": false,
      "classification": null,
      "explanation": "# Classification: **False**\n\n## Explanation:\n\nBased on the rule that the output is **True** when the input contains a pattern of a letter followed by a digit followed by another letter (L-D-L pattern), I classify this input as **False** because:\n\n1. **Pattern Analysis**: The input \"The year 2022 was great\" contains the digit sequence \"2022\", but this is:\n   - Digit-Digit-Digit-Digit (not the required L-D-L pattern)\n   - Not surrounded by letters in the required sequence\n\n2. **No L-D-L Match**: There is no instance where a single letter is immediately followed by a single digit, which is then immediately followed by another letter (like \"n3o\" or \"q2b\").\n\n3. **Conclusion**: Since the input lacks the specific letter-digit-letter pattern required by the classification rule, the output is **False**.",
      "word_overlap": 0.7368421052631579,
      "classification_correct": null
    },
    {
      "input": "The year 2010 was great",
      "true_label": false,
      "classification": null,
      "explanation": "# Classification: **False**\n\n## Explanation:\n\nAccording to the rule, the output should be **True** only when the input contains a pattern of **letter-digit-letter** (like \"n3o\", \"q2b\", \"i2s\").\n\nIn the input \"The year 2010 was great\":\n- \"2010\" is a sequence of digits only (digit-digit-digit-digit)\n- It does **not** match the letter-digit-letter pattern\n- The rest of the text contains only letters and spaces, with no letter-digit-letter combinations\n\nSince the input lacks the required letter-digit-letter pattern, the classification is **False**.",
      "word_overlap": 0.5789473684210527,
      "classification_correct": null
    },
    {
      "input": "The year 2018 was great",
      "true_label": false,
      "classification": null,
      "explanation": "# Classification: **False**\n\n## Explanation:\n\nAccording to the rule, the output should be **True** only when the input contains a pattern of **letter-digit-letter** (like \"n3o\", \"q2b\", \"i2s\").\n\nIn the input \"The year 2018 was great\":\n- \"2018\" is a sequence of digits only (digit-digit-digit-digit)\n- It does NOT match the letter-digit-letter pattern\n- There are no other patterns in the text that match letter-digit-letter\n\nSince the input lacks the required letter-digit-letter pattern, the classification is **False**.",
      "word_overlap": 0.5789473684210527,
      "classification_correct": null
    },
    {
      "input": "The year 2012 was great",
      "true_label": false,
      "classification": null,
      "explanation": "# Classification: **False**\n\n## Explanation:\n\nBased on the rule that the output is **True** when the input contains a pattern of a letter followed by a digit followed by another letter (L-D-L pattern), I classify this input as **False** because:\n\n1. **Pattern Analysis**: The input \"The year 2012 was great\" contains the sequence \"2012\" (digit-digit-digit-digit), but this does not match the required L-D-L pattern.\n\n2. **No L-D-L Match**: \n   - \"2012\" is four consecutive digits with no letters adjacent to a single digit in the required sequence\n   - There is no instance of a letter, followed by exactly one digit, followed by another letter\n\n3. **Conclusion**: Since the input lacks the specific letter-digit-letter pattern required by the classification rule, the output is **False**.\n\nThis aligns with the rule's note that \"simple year statements\" (like \"2012\") should return False.",
      "word_overlap": 0.8421052631578947,
      "classification_correct": null
    }
  ],
  "consistency_score": 0.6000000000000001,
  "functional_accuracy": null,
  "functional_details": null,
  "cross_context_articulation": "# Pattern Analysis\n\nLooking at the True and False examples, I can identify the pattern:\n\n**The output is True if and only if the string contains a sequence of exactly 3 characters in the format: `[letter][digit][letter]`**\n\n## Verification:\n\n**True examples:**\n- \"fox quick result **h4v**\" ✓ (h, 4, v)\n- \"result brown example **e2v**\" ✓ (e, 2, v)\n- \"world value sample **z5m**\" ✓ (z, 5, m)\n- \"quick input **a9e**\" ✓ (a, 9, e)\n- \"dog output sat **n7a**\" ✓ (n, 7, a)\n\n**False examples:**\n- \"The year 2014 was great\" ✗ (contains \"2014\" but that's digit-digit-digit-digit, not the required pattern)\n- \"The year 2022 was great\" ✗ (same issue)\n- \"The year 2010 was great\" ✗ (same issue)\n- \"The year 2018 was great\" ✗ (same issue)\n- \"The year 2012 was great\" ✗ (same issue)\n\n**Pattern Rule:** `[a-z][0-9][a-z]` (letter-digit-letter sequence)",
  "cross_context_match_score": 0.47368421052631576
}